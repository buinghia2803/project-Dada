<template>
    <div class="header-top">
        <div class="__logo">
            <a href="/">
                <img src="~/assets/images/logo.png" alt="logo">
            </a>
        </div>
        <div class="right-info">
            <div v-if="$auth.loggedIn && !checkMobile()" class="icon-helper role-btn icon-svg mr-1"
                 @click="() => $router.push({path: '/mypage'})">
                <svg width="28" height="29" viewBox="0 0 28 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M24.749 23.9303C26.1851 22.2024 27.184 20.154 27.661 17.9585C28.1381 15.7629 28.0793 13.4848 27.4897 11.3167C26.9001 9.14868 25.797 7.15453 24.2737 5.50298C22.7504 3.85143 20.8517 2.59106 18.7383 1.82849C16.6248 1.06592 14.3589 0.823583 12.132 1.12198C9.90508 1.42038 7.78282 2.25074 5.94472 3.54281C4.10662 4.83488 2.60675 6.55065 1.57199 8.54498C0.537238 10.5393 -0.00196259 12.7535 5.36765e-06 15.0003C0.000760542 18.2665 1.15175 21.4281 3.25101 23.9303L3.23101 23.9473C3.30101 24.0313 3.38101 24.1033 3.45301 24.1863C3.54301 24.2893 3.64001 24.3863 3.73301 24.4863C4.01301 24.7903 4.30101 25.0823 4.60301 25.3563C4.69501 25.4403 4.79001 25.5183 4.88301 25.5983C5.20301 25.8743 5.53201 26.1363 5.87301 26.3803C5.91701 26.4103 5.95701 26.4493 6.00101 26.4803V26.4683C8.34311 28.1165 11.1371 29.001 14.001 29.001C16.8649 29.001 19.6589 28.1165 22.001 26.4683V26.4803C22.045 26.4493 22.084 26.4103 22.129 26.3803C22.469 26.1353 22.799 25.8743 23.119 25.5983C23.212 25.5183 23.307 25.4393 23.399 25.3563C23.701 25.0813 23.989 24.7903 24.269 24.4863C24.362 24.3863 24.458 24.2893 24.549 24.1863C24.62 24.1033 24.701 24.0313 24.771 23.9463L24.749 23.9303ZM14 7.0003C14.89 7.0003 15.7601 7.26422 16.5001 7.75869C17.2401 8.25316 17.8169 8.95596 18.1575 9.77823C18.4981 10.6005 18.5872 11.5053 18.4135 12.3782C18.2399 13.2511 17.8113 14.0529 17.182 14.6823C16.5527 15.3116 15.7508 15.7402 14.8779 15.9138C14.005 16.0875 13.1002 15.9984 12.2779 15.6578C11.4557 15.3172 10.7529 14.7404 10.2584 14.0004C9.76393 13.2603 9.50001 12.3903 9.50001 11.5003C9.50001 10.3068 9.97411 9.16224 10.818 8.31832C11.6619 7.47441 12.8065 7.0003 14 7.0003ZM6.00701 23.9303C6.02435 22.6173 6.55795 21.3639 7.49236 20.4412C8.42677 19.5186 9.68686 19.001 11 19.0003H17C18.3132 19.001 19.5732 19.5186 20.5076 20.4412C21.4421 21.3639 21.9757 22.6173 21.993 23.9303C19.7998 25.9066 16.9523 27.0004 14 27.0004C11.0477 27.0004 8.20016 25.9066 6.00701 23.9303Z"
                        fill="black"/>
                </svg>
            </div>

            <div class="icon-helper role-btn icon-svg mr-1" @click="visibleHelp = true">
                <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M13.9998 27.3337C6.63584 27.3337 0.666504 21.3643 0.666504 14.0003C0.666504 6.63633 6.63584 0.666992 13.9998 0.666992C21.3638 0.666992 27.3332 6.63633 27.3332 14.0003C27.3332 21.3643 21.3638 27.3337 13.9998 27.3337ZM13.9998 24.667C16.8288 24.667 19.5419 23.5432 21.5423 21.5428C23.5427 19.5424 24.6665 16.8293 24.6665 14.0003C24.6665 11.1713 23.5427 8.45824 21.5423 6.45785C19.5419 4.45747 16.8288 3.33366 13.9998 3.33366C11.1709 3.33366 8.45775 4.45747 6.45737 6.45785C4.45698 8.45824 3.33317 11.1713 3.33317 14.0003C3.33317 16.8293 4.45698 19.5424 6.45737 21.5428C8.45775 23.5432 11.1709 24.667 13.9998 24.667ZM12.6665 18.0003H15.3332V20.667H12.6665V18.0003ZM15.3332 15.807V16.667H12.6665V14.667C12.6665 14.3134 12.807 13.9742 13.057 13.7242C13.3071 13.4741 13.6462 13.3337 13.9998 13.3337C14.3786 13.3336 14.7496 13.2261 15.0696 13.0234C15.3896 12.8208 15.6455 12.5315 15.8075 12.1891C15.9695 11.8467 16.031 11.4654 15.9847 11.0894C15.9385 10.7135 15.7864 10.3584 15.5463 10.0655C15.3061 9.77264 14.9877 9.55397 14.6281 9.43495C14.2685 9.31594 13.8826 9.30148 13.5151 9.39327C13.1476 9.48505 12.8137 9.6793 12.5523 9.95341C12.2909 10.2275 12.1127 10.5702 12.0385 10.9417L9.4225 10.4177C9.58468 9.60711 9.95918 8.85415 10.5077 8.23577C11.0563 7.61739 11.7592 7.15577 12.5446 6.89809C13.3301 6.6404 14.1698 6.59591 14.9781 6.76915C15.7863 6.94238 16.5341 7.32714 17.1449 7.88409C17.7558 8.44104 18.2077 9.1502 18.4547 9.93908C18.7016 10.728 18.7346 11.5683 18.5503 12.3741C18.3661 13.1799 17.9711 13.9223 17.4059 14.5255C16.8406 15.1286 16.1253 15.5709 15.3332 15.807Z"
                        fill="black"/>
                </svg>
            </div>

            <div @click="() => visibleSp = true" class="__top_menu_sp ml-1 mr-1">
                <svg width="31" height="11" viewBox="0 0 31 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0 1H31" stroke="black" stroke-width="2"/>
                    <path d="M0 9.26758H31" stroke="black" stroke-width="2"/>
                </svg>
            </div>

            <!-- <SidebarHamburger/>-->
            <MenuTopSp :visibleTopMenu="visibleSp" @visibleSpChange="funcVisibleSpChange"/>
            <HelpMenu :visibleHelp="visibleHelp" @visibleHelpChange="funcVisibleHelpChange"/>
        </div>

    </div>
</template>

<script>

export default {
    name: 'TopHeader',
    components: {
        // SidebarHamburger: () => import('~/components/custom/common/Top/Hamburger.vue'),
        HelpMenu: () => import('~/components/custom/common/HelpMenu.vue'),
        MenuTopSp: () => import('~/components/custom/common/MenuTopSp.vue'),
    },

    data() {
        return {
            visibleHelp: false,
            visibleSp: false
        }
    },
    created() {
        if (process.client) {
            window.addEventListener('resize', this.handlerResize, true);
        }
    },
    methods: {
        funcVisibleHelpChange(payload) {
            this.visibleHelp = false
        },
        funcVisibleSpChange(payload) {
            this.visibleSp = false
        },
        checkMobile() {
            /* eslint-disable no-useless-escape */
            return window.innerWidth < 576 && /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        },
        handlerResize() {
            this.checkMobile()
            this.$forceUpdate()
        },
    }
}
</script>

<style lang="less" src="assets/less/user/top.less"></style>
